マウスでゲームウィンドウサイズ任意に変更プラグイン WindowResizable.ks

1. はじめに
	WindowResizable.ks は、吉里吉里/KAG のゲームウィンドウを
	マウスで任意の大きさにリサイズできるようにするプラグインである。

2. 使い方
	windowEx.dllが必要。以下から入手すること。
	https://sv.kikyou.info/trac/kirikiri/browser/kirikiri2/trunk/kirikiri2/bin/win32/plugin/windowEx.dll
	まずこのwindowEx.dllを plugin/ フォルダにでも入れて、Override.tjs中で
		Plugins.link('windowEx.dll');
	のようにして読み込む。
	その後、first.ks の先頭で、TJSプラグインを以下のようにして読み込む。
		[call storage="WindowResizable.ks"]
	これでゲームウィンドウの枠がマウスで掴めるようになり、あとは
	それを引っ張ったり伸ばしたり好きなサイズにリサイズ自由自在。

3. 特徴
	・前回終了時の位置とサイズを覚える
	・拡大縮小は縦横比を保ったまま実行される。
	・メニューバーの[画面]から「標準サイズに戻す」を選ぶと１倍表示に戻る
	・PCの画面がゲーム画面より小さいと、自動的に画面にフィットする最大
	　サイズに変更する。
	・マルチディスプレイに対応しているはずだが、試せないので不明。誰か
	　ディスプレイ下さい。WUXGAよりデカいディスプレイがいいです(贅沢)。
	　あ、マルチディスプレイスタンド(アーム)もついでにお願いします(厚顔)。

4. 制限
	・krkr.exe の起動オプションに -dbstyle=ddraw くっつけないと、拡大
	　縮小の初回が遅い(内部で拡大縮小方法を選択するためにベンチマーク
	　するから)。これどうにかならんかホントに。
	・マウス座標は、ウィンドウの元サイズとは「独立している」。ので、
	　マウスを自動的に動かしたり、マウス座標を扱っているゲーム
	　ではこのプラグインを使う時に注意が必要。具体的には以下に
	　注意すること。
	　http://www.geocities.jp/keep_creating/DojinDOC/kirikiriSmallTips.html#mousepos
	・WinXPでは、ウィンドウ最大化時にタイトルバーを掴んで移動できるが、
	　最大化時にはサイズ変更できない。Win7ではタイトルバーを掴んだ瞬間に
	　元のウィンドウサイズに戻るので問題にはならないがびっくりする。
	・以下の条件の時に「標準サイズに戻す」を実行すると、画面いっぱいには
	　広がらない。
		・ウィンドウが小さくなって、上部のメニューが二段以上になった
		・PC画面サイズが、ゲーム画面サイズよりも小さい

5. 吉里吉里Zで使う時は
	・吉里吉里Z専用のwindowEx.dllが必要。とりあえず以下のURLに用意
	　しといたので、なんとかしたいならどうぞ。ソース付き。
	　http://www.geocities.jp/keep_creating/DojinDOC/windowEx_for_KRKRZ.zip
	・ただし、menu.dllが必要なことと、それなのに「メニューが複数段に
	　なるほど縮小すると、画面下が切れることがあるという制限がある。
