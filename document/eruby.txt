eruby(Extened Ruby) Plubin

1. はじめに
	erubyは、「複数文字にルビを振る」マクロを提供する。
	KAGデフォルトの[ruby]タグは、一文字にしかルビを振れず、複数文字に
	ルビを振ろうとすると少々トリッキーな使い方が必要になる。また、ルビ
	中に改行もできない。これを解決するために作成された。
	ルビ位置には、中央、左寄、右寄、均等割り(=def)が指定できる。

2. 使用例
	最初に一回だけ、KAGスクリプト(例えばfirst.ks)の頭で以下を実行。
	[call storage="eruby.ks"]
	そうすると、eruby が使用可能になる。

	; 均等割付でルビを振る
	[eruby text="しめ" str="七五三"]と読むのだよ。

	; 中央割付でルビを振る
	[eruby text="うそくさい" str="じなくそげな" align=c]ごつある。

3. KAGタグリファレンス
[eruby text=ルビ str=ルビ対象文字列 align=]
説明:	ルビを振る
	
引数:	text=ルビ
		実際に振るルビ。
	str=ルビ対象文字列
		ルビを振る対象文字列を指定する。
		指定しなかった場合は、[ruby]タグと同じ動作になる
		(その場合はalign=は無視される)。
	align=ルビ形態
		ルビを振る形態を指定する。指定しないと'e'がデフォルトとなる
		expand|e	均等割付(def)
		center|c	中央寄せ
		left|l		左寄せ
		right|r		右寄せ

4. 長所・短所特徴
	○複数文字へのルビの右寄せ・左寄せ・中央寄せ・均等割付ができる。
	○文字をゆっくり表示した場合、ルビもその文字に合わせてゆっくり。
	　表示される
	　※オリジナル[ruby]は一文字表示されるとルビも全部一気に表示される
	○改行・改ページを跨いだ場合、ルビも改行・改ページされる。
	　※オリジナル[ruby]は改行・改ページを考慮してくれない
	△ルビと本文は一文字づつ表示するため、fixed フォントでないと
	　自然に見えないことがある
	△ルビと本文は一文字づつ表示するため、文字間に1ドット空白が開いたり
	　することがある
	△ルビ振り中にセーブポイントを設けてはいけない。ルビはセーブされない。
	×「本文で振ったルビを履歴中にも振る」拡張をしている人は、この
	　マクロを使わない方がよい。[eruby]は[ruby]とは別の方法でルビを振るので、
	　履歴中には振られない、だろう。きっと。拙作ExtHistoryLayerを使うことを
	　お勧めする。
